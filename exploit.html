<script>
// var xhr = new XMLHttpRequest();
// var url = "https://api.coinmarketcap.com/auth/v4/user/update/info"; // Replace with the actual endpoint

// xhr.open("POST", url, true);

var xhr = new XMLHttpRequest();
var url = "https://api.coinmarketcap.com/auth/v4/user/update/info"; // Replace with the actual endpoint

xhr.open("POST", url, true);

// Set the request headers
xhr.setRequestHeader("Content-Type", "application/json");
//xhr.setRequestHeader("X-CMC_PRO_API_KEY", "your-api-key"); // Replace with your CoinMarketCap API key

// Set credentials to include cookies and HTTP authentication
xhr.withCredentials = true;

// Set up the callback function to handle the response
xhr.onreadystatechange = function () {
  if (xhr.readyState == 4) {
    // Check if the request was successful (status code 200)
    if (xhr.status == 200) {
      // Get and log the response headers
      var allHeaders = xhr.getAllResponseHeaders();
      console.log("All Response Headers: ", allHeaders);

      // Get and log the value of a specific header (e.g., Content-Type)
      var contentTypeHeader = xhr.getResponseHeader("Content-Type");
      console.log("Content-Type Header: ", contentTypeHeader);

      // Now you can do something with the response
      var responseText = xhr.responseText;
      console.log("Response Text: ", responseText);
    } else {
      // Handle the error appropriately
      console.error("Error: ", xhr.status, xhr.statusText);
    }
  }
};

// Set the request payload (in this case, an empty JSON object)
var postData = '{}';

// Send the request with the payload
xhr.send(postData);

</script>
